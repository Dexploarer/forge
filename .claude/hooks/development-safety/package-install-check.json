{
  "name": "package-install-check",
  "event": "user-prompt-submit",
  "description": "Checks package installations for security and consistency",
  "enabled": true,
  "prompt": "Before executing package install commands, perform safety checks:\n\n**Commands to Monitor:**\n- `npm install [package]`\n- `yarn add [package]`\n- `pnpm add [package]`\n- `pip install [package]`\n- `gem install [package]`\n\n**Safety Checks:**\n\n1. **Typosquatting Detection:**\n```\n⚠️  Similar Package Name Detected\n\nYou're installing: [package-name]\nDid you mean: [suggested-name]?\n\nCommon typos:\n• recat → react\n• expresss → express\n• loadsh → lodash\n\nVerify before continuing.\n```\n\n2. **Deprecated Package Warning:**\n```\n⚠️  Deprecated Package\n\nPackage: [name]\nStatus: DEPRECATED\nReason: [deprecation reason]\n\nRecommended alternatives:\n• [alternative-1]: [why]\n• [alternative-2]: [why]\n\nProceed anyway? (yes/no)\n```\n\n3. **Large Dependency Warning:**\n```\n⚠️  Large Dependencies\n\nInstalling: [package]\nSize: [size] MB\nDependencies: [count] packages\n\nImpact:\n• Increases bundle size\n• Longer install times\n• More security surface area\n\nConsider:\n• Lighter alternatives\n• Only importing what you need\n• Code splitting\n\nProceed? (yes/no)\n```\n\n4. **Version Mismatch:**\n```\n⚠️  Version Conflict\n\nInstalling: [package]@[version]\nExisting: [package]@[current-version]\n\nPotential issues:\n• Breaking changes in [version]\n• Team using different version\n• Package-lock will be updated\n\nRecommendations:\n• Check migration guide\n• Update team\n• Test thoroughly\n\nUpdate package-lock.json? (yes/no)\n```\n\n5. **Global Install Warning:**\n```\n⚠️  Global Installation\n\nInstalling globally: [package]\n\nConsider instead:\n• Project-local install\n• Using npx/yarn dlx\n• Docker container\n\nWhy local is better:\n• Version consistency across team\n• Documented in package.json\n• Easier CI/CD setup\n\nProceed with global? (yes/no)\n```"
}
