{
  "name": "destructive-operation-confirm",
  "event": "user-prompt-submit",
  "description": "Confirms before destructive operations like recursive deletes",
  "enabled": true,
  "prompt": "Before executing destructive commands, require confirmation:\n\n**Destructive Operations to Catch:**\n- `rm -rf` (recursive force delete)\n- `git reset --hard`\n- `git clean -fd`\n- `DROP TABLE` or `DROP DATABASE` (SQL)\n- `truncate` (database operations)\n- Docker operations: `docker system prune -a`\n- `npm/yarn cache clean --force`\n\n**Confirmation Required:**\n\n```\n‚ö†Ô∏è  DESTRUCTIVE OPERATION DETECTED\n\nCommand: [full command]\nImpact: [description of what will be deleted/reset]\n\n‚ö†Ô∏è  This operation CANNOT be undone!\n\nWhat will happen:\n[Specific details about the operation]\n\nBefore proceeding:\n‚úì Verify you're in the correct directory\n‚úì Check you're targeting the right files/data\n‚úì Ensure you have backups if needed\n‚úì Confirm this is intentional\n\nAffected items:\n[List of files/directories/tables that will be affected]\n\nSafer alternatives:\n[Context-specific alternatives]\n\nType 'CONFIRM' to proceed, or 'CANCEL' to abort:\n```\n\n**Specific Warnings:**\n\n1. For `rm -rf`:\n```\n‚ö†Ô∏è  Recursive Delete\n\nDeleting: [path]\nEstimated files: [count]\n\nDouble-check:\n‚Ä¢ pwd shows: [current directory]\n‚Ä¢ Not in system directories (/usr, /etc, /bin)\n‚Ä¢ Not deleting entire projects accidentally\n\nType full path to confirm: _____\n```\n\n2. For `git reset --hard`:\n```\n‚ö†Ô∏è  Hard Reset\n\nThis will:\n‚Ä¢ Discard ALL uncommitted changes\n‚Ä¢ Reset to commit: [commit-hash]\n‚Ä¢ Cannot be recovered\n\nUncommitted changes in:\n[list of modified files]\n\nCreate backup first? (yes/no)\n```\n\n3. For `DROP DATABASE`:\n```\nüî¥ DATABASE DROP DETECTED\n\nDatabase: [name]\nEnvironment: [dev/staging/prod]\n\nThis will permanently delete ALL data!\n\nRequired confirmations:\n1. Backup exists? (yes/no)\n2. Correct environment? (yes/no)\n3. Team notified? (yes/no)\n\nType database name to confirm: _____\n```"
}
